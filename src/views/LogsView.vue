<template>
  <el-card>
    <h3>é£žè¡Œæ—¥å¿—</h3>
    <el-table :data="logEntries" style="width: 100%">
      <el-table-column prop="timestamp" label="æ—¶é—´" width="180"></el-table-column>
      <el-table-column prop="flight_info.model" label="é£žæœºåž‹å·"></el-table-column>
      <el-table-column prop="flight_info.date" label="é£žè¡Œæ—¶é—´" width="200"></el-table-column>
      <el-table-column prop="operation_class" label="æ•…éšœçŠ¶æ€"></el-table-column>
      <el-table-column label="æ“ä½œ" width="120">
        <template #default="{ row }">
          <el-button type="primary" size="small" @click="replayFlight(row)">å›žæ”¾</el-button>
        </template>
      </el-table-column>
    </el-table>
  </el-card>
</template>

<script setup>
import { ref, onMounted } from "vue";
import { getLogs } from "@/utils/logStorage";

const logEntries = ref([]);

const replayFlight = (entry) => {
  console.log("ðŸŽ¥ å¼€å§‹å›žæ”¾:", entry.flight_info);
  // **è§¦å‘ 3D åœºæ™¯å›žæ”¾**
};

onMounted(async () => {
  logEntries.value = await getLogs();
});
</script>
