<template>
    <div class="sensor-panel">
        <h3>ğŸ›  ä¼ æ„Ÿå™¨æ•°æ®é¢æ¿</h3>
        <p v-if="sensorData.length === 0">â³ ç­‰å¾…æ•°æ®ä¼ å…¥...</p>
        <p v-else>âœ… æ•°æ®å·²æ¥æ”¶ï¼Œæ•°æ®ç‚¹æ•°é‡: {{ sensorData.length }}</p>

        <!-- âœ… ä¼ é€’æ•°æ®ç»™ SensorChart.vue -->
        <SensorChart :sensorData="sensorData" />
    </div>
</template>

<script setup>
import { defineProps, watch } from "vue";
import SensorChart from "@/components/charts/SensorChart.vue";

// âœ… æ¥æ”¶ `sensorData` ä½œä¸º `prop`
const props = defineProps({
    sensorData: {
        type: Array,
        required: true,
    },
});

// âœ… ç›‘å¬ `sensorData` å˜åŒ–ï¼Œè¾“å‡ºåˆ°æ§åˆ¶å°
watch(
    () => props.sensorData,
    (newData) => {
        console.log("ğŸ“¡ SensorPanel.vue æ¥æ”¶åˆ°çš„æ–°æ•°æ®:", newData);
    },
    { deep: true }
);
</script>

<style scoped>
.sensor-panel {
    padding: 10px;
    background: #fff;
    border-radius: 5px;
    box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
}
</style>
